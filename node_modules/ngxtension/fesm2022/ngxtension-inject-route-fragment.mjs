import { inject } from '@angular/core';
import { toSignal } from '@angular/core/rxjs-interop';
import { ActivatedRoute } from '@angular/router';
import { assertInjector } from 'ngxtension/assert-injector';
import { map } from 'rxjs';

function injectRouteFragment(options) {
    return assertInjector(injectRouteFragment, options?.injector, () => {
        const route = inject(ActivatedRoute);
        const initialRouteFragment = route.snapshot.fragment;
        const getFragment = (fragment) => {
            if (options?.transform)
                return options.transform(fragment);
            return fragment;
        };
        const fragment$ = route.fragment.pipe(map(getFragment));
        return toSignal(fragment$, {
            initialValue: getFragment(initialRouteFragment),
        });
    });
}

/**
 * Generated bundle index. Do not edit.
 */

export { injectRouteFragment };
//# sourceMappingURL=ngxtension-inject-route-fragment.mjs.map
