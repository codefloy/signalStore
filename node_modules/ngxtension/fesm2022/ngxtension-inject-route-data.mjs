import { assertInInjectionContext, inject } from '@angular/core';
import { toSignal } from '@angular/core/rxjs-interop';
import { ActivatedRoute } from '@angular/router';
import { map } from 'rxjs';

function injectRouteData(keyOrTransform) {
    assertInInjectionContext(injectRouteData);
    const route = inject(ActivatedRoute);
    const initialRouteData = route.snapshot.data || {};
    const getDataParam = typeof keyOrTransform === 'function'
        ? keyOrTransform
        : (data) => keyOrTransform ? data?.[keyOrTransform] ?? null : data;
    return toSignal(route.data.pipe(map(getDataParam)), {
        initialValue: getDataParam(initialRouteData),
    });
}

/**
 * Generated bundle index. Do not edit.
 */

export { injectRouteData };
//# sourceMappingURL=ngxtension-inject-route-data.mjs.map
