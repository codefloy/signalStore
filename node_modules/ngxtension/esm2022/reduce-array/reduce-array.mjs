import { map } from 'rxjs';
export function reduceArray(reduceFn, initialValue) {
    return map((array) => {
        // call reduce function with initialValue
        if (initialValue !== undefined) {
            return array.reduce(reduceFn, initialValue);
        }
        // no initialValue
        // Javascript throws error if array is empty: [].reduce((acc,n) => acc +n)
        // avoid errors and return undefined
        if (!array.length) {
            return undefined;
        }
        // if array is not empty, call the reduceFn without initialValue
        return array.reduce(reduceFn);
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkdWNlLWFycmF5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3h0ZW5zaW9uL3JlZHVjZS1hcnJheS9zcmMvcmVkdWNlLWFycmF5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQW1CLE1BQU0sTUFBTSxDQUFDO0FBYTVDLE1BQU0sVUFBVSxXQUFXLENBQzFCLFFBQStCLEVBQy9CLFlBQW9DO0lBRXBDLE9BQU8sR0FBRyxDQUFDLENBQUMsS0FBaUIsRUFBRSxFQUFFO1FBQ2hDLHlDQUF5QztRQUN6QyxJQUFJLFlBQVksS0FBSyxTQUFTLEVBQUUsQ0FBQztZQUNoQyxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQzdDLENBQUM7UUFDRCxrQkFBa0I7UUFFbEIsMEVBQTBFO1FBQzFFLG9DQUFvQztRQUNwQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ25CLE9BQU8sU0FBUyxDQUFDO1FBQ2xCLENBQUM7UUFDRCxnRUFBZ0U7UUFDaEUsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQy9CLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hcCwgdHlwZSBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbnR5cGUgUmVkdWNlID0gQXJyYXk8YW55PlsncmVkdWNlJ107XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VBcnJheTxUPihcblx0cmVkdWNlRm46IChhY2M6IFQsIGl0ZW06IFQsIGluZGV4OiBudW1iZXIpID0+IFQsXG4pOiAoc291cmNlOiBPYnNlcnZhYmxlPFRbXT4pID0+IE9ic2VydmFibGU8VD47XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VBcnJheTxULCBSID0gVD4oXG5cdHJlZHVjZUZuOiAoYWNjOiBSLCBpdGVtOiBULCBpbmRleDogbnVtYmVyKSA9PiBSLFxuXHRpbml0aWFsVmFsdWU6IFIsXG4pOiAoc291cmNlOiBPYnNlcnZhYmxlPFRbXT4pID0+IE9ic2VydmFibGU8Uj47XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VBcnJheShcblx0cmVkdWNlRm46IFBhcmFtZXRlcnM8UmVkdWNlPlswXSxcblx0aW5pdGlhbFZhbHVlPzogUGFyYW1ldGVyczxSZWR1Y2U+WzFdLFxuKSB7XG5cdHJldHVybiBtYXAoKGFycmF5OiBBcnJheTxhbnk+KSA9PiB7XG5cdFx0Ly8gY2FsbCByZWR1Y2UgZnVuY3Rpb24gd2l0aCBpbml0aWFsVmFsdWVcblx0XHRpZiAoaW5pdGlhbFZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBhcnJheS5yZWR1Y2UocmVkdWNlRm4sIGluaXRpYWxWYWx1ZSk7XG5cdFx0fVxuXHRcdC8vIG5vIGluaXRpYWxWYWx1ZVxuXG5cdFx0Ly8gSmF2YXNjcmlwdCB0aHJvd3MgZXJyb3IgaWYgYXJyYXkgaXMgZW1wdHk6IFtdLnJlZHVjZSgoYWNjLG4pID0+IGFjYyArbilcblx0XHQvLyBhdm9pZCBlcnJvcnMgYW5kIHJldHVybiB1bmRlZmluZWRcblx0XHRpZiAoIWFycmF5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Ly8gaWYgYXJyYXkgaXMgbm90IGVtcHR5LCBjYWxsIHRoZSByZWR1Y2VGbiB3aXRob3V0IGluaXRpYWxWYWx1ZVxuXHRcdHJldHVybiBhcnJheS5yZWR1Y2UocmVkdWNlRm4pO1xuXHR9KTtcbn1cbiJdfQ==