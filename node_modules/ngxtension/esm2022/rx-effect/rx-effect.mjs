import { takeUntilDestroyed } from '@angular/core/rxjs-interop';
import { identity, tap, } from 'rxjs';
export function rxEffect(source, effectOrOptions, options) {
    const effect = effectOrOptions && 'destroyRef' in effectOrOptions
        ? undefined
        : effectOrOptions;
    options ??= effect ? options : effectOrOptions;
    return source
        .pipe(effect ? tap(effect) : identity, takeUntilDestroyed(options?.destroyRef))
        .subscribe();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicngtZWZmZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vbGlicy9uZ3h0ZW5zaW9uL3J4LWVmZmVjdC9zcmMvcngtZWZmZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ2hFLE9BQU8sRUFDTixRQUFRLEVBR1IsR0FBRyxHQUVILE1BQU0sTUFBTSxDQUFDO0FBY2QsTUFBTSxVQUFVLFFBQVEsQ0FDdkIsTUFBcUIsRUFDckIsZUFBNkMsRUFDN0MsT0FBeUI7SUFFekIsTUFBTSxNQUFNLEdBQ1gsZUFBZSxJQUFJLFlBQVksSUFBSSxlQUFlO1FBQ2pELENBQUMsQ0FBQyxTQUFTO1FBQ1gsQ0FBQyxDQUFDLGVBQWUsQ0FBQztJQUVwQixPQUFPLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFFLGVBQW1DLENBQUM7SUFFcEUsT0FBTyxNQUFNO1NBQ1gsSUFBSSxDQUNKLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQy9CLGtCQUFrQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FDdkM7U0FDQSxTQUFTLEVBQUUsQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IERlc3Ryb3lSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IHRha2VVbnRpbERlc3Ryb3llZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvcnhqcy1pbnRlcm9wJztcbmltcG9ydCB7XG5cdGlkZW50aXR5LFxuXHRPYnNlcnZhYmxlLFxuXHRTdWJzY3JpcHRpb24sXG5cdHRhcCxcblx0dHlwZSBUYXBPYnNlcnZlcixcbn0gZnJvbSAncnhqcyc7XG5cbnR5cGUgRWZmZWN0PFQ+ID0gUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKTtcbnR5cGUgUnhFZmZlY3RPcHRpb25zID0geyBkZXN0cm95UmVmOiBEZXN0cm95UmVmIH07XG5cbmV4cG9ydCBmdW5jdGlvbiByeEVmZmVjdDxUPihcblx0c291cmNlOiBPYnNlcnZhYmxlPFQ+LFxuXHRlZmZlY3Q6IEVmZmVjdDxUPixcblx0b3B0aW9ucz86IFJ4RWZmZWN0T3B0aW9ucyxcbik6IFN1YnNjcmlwdGlvbjtcbmV4cG9ydCBmdW5jdGlvbiByeEVmZmVjdDxUPihcblx0c291cmNlOiBPYnNlcnZhYmxlPFQ+LFxuXHRvcHRpb25zPzogUnhFZmZlY3RPcHRpb25zLFxuKTogU3Vic2NyaXB0aW9uO1xuZXhwb3J0IGZ1bmN0aW9uIHJ4RWZmZWN0PFQ+KFxuXHRzb3VyY2U6IE9ic2VydmFibGU8VD4sXG5cdGVmZmVjdE9yT3B0aW9ucz86IEVmZmVjdDxUPiB8IFJ4RWZmZWN0T3B0aW9ucyxcblx0b3B0aW9ucz86IFJ4RWZmZWN0T3B0aW9ucyxcbikge1xuXHRjb25zdCBlZmZlY3QgPVxuXHRcdGVmZmVjdE9yT3B0aW9ucyAmJiAnZGVzdHJveVJlZicgaW4gZWZmZWN0T3JPcHRpb25zXG5cdFx0XHQ/IHVuZGVmaW5lZFxuXHRcdFx0OiBlZmZlY3RPck9wdGlvbnM7XG5cblx0b3B0aW9ucyA/Pz0gZWZmZWN0ID8gb3B0aW9ucyA6IChlZmZlY3RPck9wdGlvbnMgYXMgUnhFZmZlY3RPcHRpb25zKTtcblxuXHRyZXR1cm4gc291cmNlXG5cdFx0LnBpcGUoXG5cdFx0XHRlZmZlY3QgPyB0YXAoZWZmZWN0KSA6IGlkZW50aXR5LFxuXHRcdFx0dGFrZVVudGlsRGVzdHJveWVkKG9wdGlvbnM/LmRlc3Ryb3lSZWYpLFxuXHRcdClcblx0XHQuc3Vic2NyaWJlKCk7XG59XG4iXX0=