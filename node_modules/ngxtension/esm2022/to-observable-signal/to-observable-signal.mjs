import { assertInInjectionContext, isDevMode, isSignal, } from '@angular/core';
import { toObservable, toSignal, } from '@angular/core/rxjs-interop';
export function toObservableSignal(source, options) {
    if (isDevMode() && !options?.injector) {
        assertInInjectionContext(toObservableSignal);
    }
    let s;
    let obs;
    if (isSignal(source)) {
        s = source;
        obs = toObservable(source, options);
    }
    else {
        obs = source;
        s = toSignal(obs, { injector: options?.injector });
    }
    return new Proxy(s, {
        get(_, prop) {
            if (prop in s) {
                return s[prop];
            }
            return obs[prop];
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG8tb2JzZXJ2YWJsZS1zaWduYWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25neHRlbnNpb24vdG8tb2JzZXJ2YWJsZS1zaWduYWwvc3JjL3RvLW9ic2VydmFibGUtc2lnbmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTix3QkFBd0IsRUFDeEIsU0FBUyxFQUNULFFBQVEsR0FHUixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQ04sWUFBWSxFQUNaLFFBQVEsR0FFUixNQUFNLDRCQUE0QixDQUFDO0FBY3BDLE1BQU0sVUFBVSxrQkFBa0IsQ0FDakMsTUFBbUMsRUFDbkMsT0FBNkI7SUFFN0IsSUFBSSxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsQ0FBQztRQUN2Qyx3QkFBd0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxJQUFJLENBQXdCLENBQUM7SUFDN0IsSUFBSSxHQUFvQixDQUFDO0lBRXpCLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDdEIsQ0FBQyxHQUFHLE1BQU0sQ0FBQztRQUNYLEdBQUcsR0FBRyxZQUFZLENBQUMsTUFBbUIsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNsRCxDQUFDO1NBQU0sQ0FBQztRQUNQLEdBQUcsR0FBRyxNQUFNLENBQUM7UUFDYixDQUFDLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDbkIsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJO1lBQ1YsSUFBSSxJQUFJLElBQUksQ0FBQyxFQUFFLENBQUM7Z0JBQ2YsT0FBUSxDQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDekIsQ0FBQztZQUNELE9BQVEsR0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNCLENBQUM7S0FDRCxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcblx0YXNzZXJ0SW5JbmplY3Rpb25Db250ZXh0LFxuXHRpc0Rldk1vZGUsXG5cdGlzU2lnbmFsLFxuXHR0eXBlIFNpZ25hbCxcblx0dHlwZSBXcml0YWJsZVNpZ25hbCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuXHR0b09ic2VydmFibGUsXG5cdHRvU2lnbmFsLFxuXHR0eXBlIFRvT2JzZXJ2YWJsZU9wdGlvbnMsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUvcnhqcy1pbnRlcm9wJztcbmltcG9ydCB0eXBlIHsgT2JzZXJ2YWJsZSwgU3Vic2NyaWJhYmxlIH0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCB0eXBlIE9ic2VydmFibGVTaWduYWw8VD4gPSBTaWduYWw8VD4gJiBPYnNlcnZhYmxlPFQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gdG9PYnNlcnZhYmxlU2lnbmFsPFQ+KFxuXHRzOiBXcml0YWJsZVNpZ25hbDxUPiB8IFN1YnNjcmliYWJsZTxUPixcblx0b3B0aW9ucz86IFRvT2JzZXJ2YWJsZU9wdGlvbnMsXG4pOiBXcml0YWJsZVNpZ25hbDxUPiAmIE9ic2VydmFibGU8VD47XG5leHBvcnQgZnVuY3Rpb24gdG9PYnNlcnZhYmxlU2lnbmFsPFQ+KFxuXHRzOiBTaWduYWw8VD4gfCBTdWJzY3JpYmFibGU8VD4sXG5cdG9wdGlvbnM/OiBUb09ic2VydmFibGVPcHRpb25zLFxuKTogT2JzZXJ2YWJsZVNpZ25hbDxUPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvT2JzZXJ2YWJsZVNpZ25hbDxUPihcblx0c291cmNlOiBTaWduYWw8VD4gfCBTdWJzY3JpYmFibGU8VD4sXG5cdG9wdGlvbnM/OiBUb09ic2VydmFibGVPcHRpb25zLFxuKSB7XG5cdGlmIChpc0Rldk1vZGUoKSAmJiAhb3B0aW9ucz8uaW5qZWN0b3IpIHtcblx0XHRhc3NlcnRJbkluamVjdGlvbkNvbnRleHQodG9PYnNlcnZhYmxlU2lnbmFsKTtcblx0fVxuXG5cdGxldCBzOiBTaWduYWw8VCB8IHVuZGVmaW5lZD47XG5cdGxldCBvYnM6IFN1YnNjcmliYWJsZTxUPjtcblxuXHRpZiAoaXNTaWduYWwoc291cmNlKSkge1xuXHRcdHMgPSBzb3VyY2U7XG5cdFx0b2JzID0gdG9PYnNlcnZhYmxlKHNvdXJjZSBhcyBTaWduYWw8VD4sIG9wdGlvbnMpO1xuXHR9IGVsc2Uge1xuXHRcdG9icyA9IHNvdXJjZTtcblx0XHRzID0gdG9TaWduYWwob2JzLCB7IGluamVjdG9yOiBvcHRpb25zPy5pbmplY3RvciB9KTtcblx0fVxuXG5cdHJldHVybiBuZXcgUHJveHkocywge1xuXHRcdGdldChfLCBwcm9wKSB7XG5cdFx0XHRpZiAocHJvcCBpbiBzKSB7XG5cdFx0XHRcdHJldHVybiAocyBhcyBhbnkpW3Byb3BdO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIChvYnMgYXMgYW55KVtwcm9wXTtcblx0XHR9LFxuXHR9KTtcbn1cbiJdfQ==