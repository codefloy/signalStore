import { toSignal } from '@angular/core/rxjs-interop';
import { PristineChangeEvent, StatusChangeEvent, TouchedChangeEvent, ValueChangeEvent, } from '@angular/forms';
import { combineLatest, defer, distinctUntilChanged, filter, map, startWith, } from 'rxjs';
function valueEvents$(form) {
    return form.events.pipe(filter((event) => event instanceof ValueChangeEvent));
}
function statusEvents$(form) {
    return form.events.pipe(filter((event) => event instanceof StatusChangeEvent));
}
function touchedEvents$(form) {
    return form.events.pipe(filter((event) => event instanceof TouchedChangeEvent));
}
function pristineEvents$(form) {
    return form.events.pipe(filter((event) => event instanceof PristineChangeEvent));
}
function isValueEvent(event) {
    return event instanceof ValueChangeEvent;
}
function isStatusEvent(event) {
    return event instanceof StatusChangeEvent;
}
function isPristineEvent(event) {
    return event instanceof PristineChangeEvent;
}
function isTouchedEvent(event) {
    return event instanceof TouchedChangeEvent;
}
export function allEventsObservable(form) {
    return defer(() => combineLatest([
        valueEvents$(form).pipe(startWith(form.value), map((value) => (isValueEvent(value) ? value.value : value)), distinctUntilChanged((previous, current) => JSON.stringify(previous) === JSON.stringify(current))),
        statusEvents$(form).pipe(startWith(form.status)),
        touchedEvents$(form).pipe(startWith(form.touched)),
        pristineEvents$(form).pipe(startWith(form.pristine)),
    ]).pipe(map(([valueParam, statusParam, touchedParam, pristineParam]) => {
        // Original values (plus value)
        const stat = isStatusEvent(statusParam)
            ? statusParam.status
            : statusParam;
        const touch = isTouchedEvent(touchedParam)
            ? touchedParam.touched
            : touchedParam;
        const prist = isPristineEvent(pristineParam)
            ? pristineParam.pristine
            : pristineParam;
        // Derived values - not directly named as events but are aliases for something that can be derived from original values
        const validDerived = stat === 'VALID';
        const invalidDerived = stat === 'INVALID';
        const pendingDerived = stat === 'PENDING';
        const dirtyDerived = !prist;
        const untouchedDerived = !touch;
        return {
            value: valueParam,
            status: stat,
            touched: touch,
            pristine: prist,
            valid: validDerived,
            invalid: invalidDerived,
            pending: pendingDerived,
            dirty: dirtyDerived,
            untouched: untouchedDerived,
        };
    })));
}
export function allEventsSignal(form) {
    return toSignal(allEventsObservable(form), {
        initialValue: {
            value: form.value,
            status: form.status,
            pristine: form.pristine,
            touched: form.touched,
            valid: form.valid,
            invalid: form.invalid,
            pending: form.pending,
            dirty: form.dirty,
            untouched: form.untouched,
        },
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybS1ldmVudHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL25neHRlbnNpb24vZm9ybS1ldmVudHMvc3JjL2Zvcm0tZXZlbnRzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN0RCxPQUFPLEVBSU4sbUJBQW1CLEVBQ25CLGlCQUFpQixFQUNqQixrQkFBa0IsRUFDbEIsZ0JBQWdCLEdBQ2hCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUVOLGFBQWEsRUFDYixLQUFLLEVBQ0wsb0JBQW9CLEVBQ3BCLE1BQU0sRUFDTixHQUFHLEVBQ0gsU0FBUyxHQUNULE1BQU0sTUFBTSxDQUFDO0FBRWQsU0FBUyxZQUFZLENBQUksSUFBd0I7SUFDaEQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDdEIsTUFBTSxDQUNMLENBQUMsS0FBbUIsRUFBZ0QsRUFBRSxDQUNyRSxLQUFLLFlBQVksZ0JBQWdCLENBQ2xDLENBQ0QsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLGFBQWEsQ0FBSSxJQUF3QjtJQUNqRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUN0QixNQUFNLENBQ0wsQ0FBQyxLQUFtQixFQUE4QixFQUFFLENBQ25ELEtBQUssWUFBWSxpQkFBaUIsQ0FDbkMsQ0FDRCxDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsY0FBYyxDQUFJLElBQXdCO0lBQ2xELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQ3RCLE1BQU0sQ0FDTCxDQUFDLEtBQW1CLEVBQStCLEVBQUUsQ0FDcEQsS0FBSyxZQUFZLGtCQUFrQixDQUNwQyxDQUNELENBQUM7QUFDSCxDQUFDO0FBRUQsU0FBUyxlQUFlLENBQUksSUFBd0I7SUFDbkQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FDdEIsTUFBTSxDQUNMLENB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QjtTQUMzQixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQ0YsQ0FDRCxDQUFDO0FBQ0gsQ0FBQztBQVNELE1BQU0sVUFBVSxlQUFlLENBQzlCLElBQXdCO0lBRXhCLE9BQU8sUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFDLFlBQVksRUFBRTtZQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSztZQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbkIsUUFBUSxFQUFFLElBQUksQ0FBQyxRQUFRO1lBQ3ZCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztZQUNyQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztZQUNyQixLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUs7WUFDakIsU0FBUyxFQUFFLElBQUksQ0FBQyxTQUFTO1NBQ3pCO0tBQ0QsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpZ25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgdG9TaWduYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlL3J4anMtaW50ZXJvcCc7XG5pbXBvcnQge1xuXHRBYnN0cmFjdENvbnRyb2wsXG5cdENvbnRyb2xFdmVudCxcblx0Rm9ybUNvbnRyb2xTdGF0dXMsXG5cdFByaXN0aW5lQ2hhbmdlRXZlbnQsXG5cdFN0YXR1c0NoYW5nZUV2ZW50LFxuXHRUb3VjaGVkQ2hhbmdlRXZlbnQsXG5cdFZhbHVlQ2hhbmdlRXZlbnQsXG59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7XG5cdE9ic2VydmFibGUsXG5cdGNvbWJpbmVMYXRlc3QsXG5cdGRlZmVyLFxuXHRkaXN0aW5jdFVudGlsQ2hhbmdlZCxcblx0ZmlsdGVyLFxuXHRtYXAsXG5cdHN0YXJ0V2l0aCxcbn0gZnJvbSAncnhqcyc7XG5cbmZ1bmN0aW9uIHZhbHVlRXZlbnRzJDxUPihmb3JtOiBBYnN0cmFjdENvbnRyb2w8VD4pIHtcblx0cmV0dXJuIGZvcm0uZXZlbnRzLnBpcGUoXG5cdFx0ZmlsdGVyKFxuXHRcdFx0KGV2ZW50OiBDb250cm9sRXZlbnQpOiBldmVudCBpcyBWYWx1ZUNoYW5nZUV2ZW50PHR5cGVvZiBmb3JtLnZhbHVlPiA9PlxuXHRcdFx0XHRldmVudCBpbnN0YW5jZW9mIFZhbHVlQ2hhbmdlRXZlbnQsXG5cdFx0KSxcblx0KTtcbn1cblxuZnVuY3Rpb24gc3RhdHVzRXZlbnRzJDxUPihmb3JtOiBBYnN0cmFjdENvbnRyb2w8VD4pIHtcblx0cmV0dXJuIGZvcm0uZXZlbnRzLnBpcGUoXG5cdFx0ZmlsdGVyKFxuXHRcdFx0KGV2ZW50OiBDb250cm9sRXZlbnQpOiBldmVudCBpcyBTdGF0dXNDaGFuZ2VFdmVudCA9PlxuXHRcdFx0XHRldmVudCBpbnN0YW5jZW9mIFN0YXR1c0NoYW5nZUV2ZW50LFxuXHRcdCksXG5cdCk7XG59XG5cbmZ1bmN0aW9uIHRvdWNoZWRFdmVudHMkPFQ+KGZvcm06IEFic3RyYWN0Q29udHJvbDxUPikge1xuXHRyZXR1cm4gZm9ybS5ldmVudHMucGlwZShcblx0XHRmaWx0ZXIoXG5cdFx0XHQoZXZlbnQ6IENvbnRyb2xFdmVudCk6IGV2ZW50IGlzIFRvdWNoZWRDaGFuZ2VFdmVudCA9PlxuXHRcdFx0XHRldmVudCBpbnN0YW5jZW9mIFRvdWNoZWRDaGFuZ2VFdmVudCxcblx0XHQpLFxuXHQpO1xufVxuXG5mdW5jdGlvbiBwcmlzdGluZUV2ZW50cyQ8VD4oZm9ybTogQWJzdHJhY3RDb250cm9sPFQ+KSB7XG5cdHJldHVybiBmb3JtLmV2ZW50cy5waXBlKFxuXHRcdGZpbHRlcihcblx0XHRcdChldmVudDogQ29udHJvbEV2ZW50KTogZXZlbnQgaXMgUHJpc3RpbmVDaGFuZ2VFdmVudCA9PlxuXHRcdFx0XHRldmVudCBpbnN0YW5jZW9mIFByaXN0aW5lQ2hhbmdlRXZlbnQsXG5cdFx0KSxcblx0KTtcbn1cblxuZnVuY3Rpb24gaXNWYWx1ZUV2ZW50PFQ+KFxuXHRldmVudDogQ29udHJvbEV2ZW50IHwgVCxcbik6IGV2ZW50IGlzIFZhbHVlQ2hhbmdlRXZlbnQ8VD4ge1xuXHRyZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBWYWx1ZUNoYW5nZUV2ZW50O1xufVxuZnVuY3Rpb24gaXNTdGF0dXNFdmVudDxUPihldmVudDogQ29udHJvbEV2ZW50IHwgVCk6IGV2ZW50IGlzIFN0YXR1c0NoYW5nZUV2ZW50IHtcblx0cmV0dXJuIGV2ZW50IGluc3RhbmNlb2YgU3RhdHVzQ2hhbmdlRXZlbnQ7XG59XG5mdW5jdGlvbiBpc1ByaXN0aW5lRXZlbnQ8VD4oXG5cdGV2ZW50OiBDb250cm9sRXZlbnQgfCBULFxuKTogZXZlbnQgaXMgUHJpc3RpbmVDaGFuZ2VFdmVudCB7XG5cdHJldHVybiBldmVudCBpbnN0YW5jZW9mIFByaXN0aW5lQ2hhbmdlRXZlbnQ7XG59XG5mdW5jdGlvbiBpc1RvdWNoZWRFdmVudDxUPihcblx0ZXZlbnQ6IENvbnRyb2xFdmVudCB8IFQsXG4pOiBldmVudCBpcyBUb3VjaGVkQ2hhbmdlRXZlbnQge1xuXHRyZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBUb3VjaGVkQ2hhbmdlRXZlbnQ7XG59XG5cbnR5cGUgRm9ybUV2ZW50RGF0YTxUPiA9IHtcblx0dmFsdWU6IFQ7XG5cdHN0YXR1czogRm9ybUNvbnRyb2xTdGF0dXM7XG5cdHRvdWNoZWQ6IGJvb2xlYW47XG5cdHByaXN0aW5lOiBib29sZWFuO1xuXHR2YWxpZDogYm9vbGVhbjtcblx0aW52YWxpZDogYm9vbGVhbjtcblx0cGVuZGluZzogYm9vbGVhbjtcblx0ZGlydHk6IGJvb2xlYW47XG5cdHVudG91Y2hlZDogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGxFdmVudHNPYnNlcnZhYmxlPFQ+KFxuXHRmb3JtOiBBYnN0cmFjdENvbnRyb2w8VD4sXG4pOiBPYnNlcnZhYmxlPEZvcm1FdmVudERhdGE8VD4+O1xuZXhwb3J0IGZ1bmN0aW9uIGFsbEV2ZW50c09ic2VydmFibGU8VD4oXG5cdGZvcm06IEFic3RyYWN0Q29udHJvbCxcbik6IE9ic2VydmFibGU8Rm9ybUV2ZW50RGF0YTxUPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGxFdmVudHNPYnNlcnZhYmxlPFQ+KFxuXHRmb3JtOiBBYnN0cmFjdENvbnRyb2w8VD4sXG4pOiBPYnNlcnZhYmxlPEZvcm1FdmVudERhdGE8VD4+IHtcblx0cmV0dXJuIGRlZmVyKCgpID0+XG5cdFx0Y29tYmluZUxhdGVzdChbXG5cdFx0XHR2YWx1ZUV2ZW50cyQoZm9ybSkucGlwZShcblx0XHRcdFx0c3RhcnRXaXRoKGZvcm0udmFsdWUpLFxuXHRcdFx0XHRtYXAoKHZhbHVlKSA9PiAoaXNWYWx1ZUV2ZW50KHZhbHVlKSA/IHZhbHVlLnZhbHVlIDogdmFsdWUpKSxcblx0XHRcdFx0ZGlzdGluY3RVbnRpbENoYW5nZWQoXG5cdFx0XHRcdFx0KHByZXZpb3VzLCBjdXJyZW50KSA9PlxuXHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkocHJldmlvdXMpID09PSBKU09OLnN0cmluZ2lmeShjdXJyZW50KSxcblx0XHRcdFx0KSxcblx0XHRcdCksXG5cdFx0XHRzdGF0dXNFdmVudHMkKGZvcm0pLnBpcGUoc3RhcnRXaXRoKGZvcm0uc3RhdHVzKSksXG5cdFx0XHR0b3VjaGVkRXZlbnRzJChmb3JtKS5waXBlKHN0YXJ0V2l0aChmb3JtLnRvdWNoZWQpKSxcblx0XHRcdHByaXN0aW5lRXZlbnRzJChmb3JtKS5waXBlKHN0YXJ0V2l0aChmb3JtLnByaXN0aW5lKSksXG5cdFx0XSkucGlwZShcblx0XHRcdG1hcCgoW3ZhbHVlUGFyYW0sIHN0YXR1c1BhcmFtLCB0b3VjaGVkUGFyYW0sIHByaXN0aW5lUGFyYW1dKSA9PiB7XG5cdFx0XHRcdC8vIE9yaWdpbmFsIHZhbHVlcyAocGx1cyB2YWx1ZSlcblx0XHRcdFx0Y29uc3Qgc3RhdDogRm9ybUNvbnRyb2xTdGF0dXMgfCBTdGF0dXNDaGFuZ2VFdmVudCA9IGlzU3RhdHVzRXZlbnQoXG5cdFx0XHRcdFx0c3RhdHVzUGFyYW0sXG5cdFx0XHRcdClcblx0XHRcdFx0XHQ/IHN0YXR1c1BhcmFtLnN0YXR1c1xuXHRcdFx0XHRcdDogc3RhdHVzUGFyYW07XG5cdFx0XHRcdGNvbnN0IHRvdWNoOiBib29sZWFuIHwgVG91Y2hlZENoYW5nZUV2ZW50ID0gaXNUb3VjaGVkRXZlbnQodG91Y2hlZFBhcmFtKVxuXHRcdFx0XHRcdD8gdG91Y2hlZFBhcmFtLnRvdWNoZWRcblx0XHRcdFx0XHQ6IHRvdWNoZWRQYXJhbTtcblx0XHRcdFx0Y29uc3QgcHJpc3Q6IGJvb2xlYW4gfCBQcmlzdGluZUNoYW5nZUV2ZW50ID0gaXNQcmlzdGluZUV2ZW50KFxuXHRcdFx0XHRcdHByaXN0aW5lUGFyYW0sXG5cdFx0XHRcdClcblx0XHRcdFx0XHQ/IHByaXN0aW5lUGFyYW0ucHJpc3RpbmVcblx0XHRcdFx0XHQ6IHByaXN0aW5lUGFyYW07XG5cblx0XHRcdFx0Ly8gRGVyaXZlZCB2YWx1ZXMgLSBub3QgZGlyZWN0bHkgbmFtZWQgYXMgZXZlbnRzIGJ1dCBhcmUgYWxpYXNlcyBmb3Igc29tZXRoaW5nIHRoYXQgY2FuIGJlIGRlcml2ZWQgZnJvbSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdFx0Y29uc3QgdmFsaWREZXJpdmVkID0gc3RhdCA9PT0gJ1ZBTElEJztcblx0XHRcdFx0Y29uc3QgaW52YWxpZERlcml2ZWQgPSBzdGF0ID09PSAnSU5WQUxJRCc7XG5cdFx0XHRcdGNvbnN0IHBlbmRpbmdEZXJpdmVkID0gc3RhdCA9PT0gJ1BFTkRJTkcnO1xuXHRcdFx0XHRjb25zdCBkaXJ0eURlcml2ZWQgPSAhcHJpc3Q7XG5cdFx0XHRcdGNvbnN0IHVudG91Y2hlZERlcml2ZWQgPSAhdG91Y2g7XG5cblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVQYXJhbSxcblx0XHRcdFx0XHRzdGF0dXM6IHN0YXQsXG5cdFx0XHRcdFx0dG91Y2hlZDogdG91Y2gsXG5cdFx0XHRcdFx0cHJpc3RpbmU6IHByaXN0LFxuXHRcdFx0XHRcdHZhbGlkOiB2YWxpZERlcml2ZWQsXG5cdFx0XHRcdFx0aW52YWxpZDogaW52YWxpZERlcml2ZWQsXG5cdFx0XHRcdFx0cGVuZGluZzogcGVuZGluZ0Rlcml2ZWQsXG5cdFx0XHRcdFx0ZGlydHk6IGRpcnR5RGVyaXZlZCxcblx0XHRcdFx0XHR1bnRvdWNoZWQ6IHVudG91Y2hlZERlcml2ZWQsXG5cdFx0XHRcdH07XG5cdFx0XHR9KSxcblx0XHQpLFxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxsRXZlbnRzU2lnbmFsPFQ+KFxuXHRmb3JtOiBBYnN0cmFjdENvbnRyb2w8VD4sXG4pOiBTaWduYWw8Rm9ybUV2ZW50RGF0YTxUPj47XG5leHBvcnQgZnVuY3Rpb24gYWxsRXZlbnRzU2lnbmFsPFQ+KFxuXHRmb3JtOiBBYnN0cmFjdENvbnRyb2wsXG4pOiBTaWduYWw8Rm9ybUV2ZW50RGF0YTxUPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGxFdmVudHNTaWduYWw8VD4oXG5cdGZvcm06IEFic3RyYWN0Q29udHJvbDxUPixcbik6IFNpZ25hbDxGb3JtRXZlbnREYXRhPFQ+PiB7XG5cdHJldHVybiB0b1NpZ25hbChhbGxFdmVudHNPYnNlcnZhYmxlKGZvcm0pLCB7XG5cdFx0aW5pdGlhbFZhbHVlOiB7XG5cdFx0XHR2YWx1ZTogZm9ybS52YWx1ZSxcblx0XHRcdHN0YXR1czogZm9ybS5zdGF0dXMsXG5cdFx0XHRwcmlzdGluZTogZm9ybS5wcmlzdGluZSxcblx0XHRcdHRvdWNoZWQ6IGZvcm0udG91Y2hlZCxcblx0XHRcdHZhbGlkOiBmb3JtLnZhbGlkLFxuXHRcdFx0aW52YWxpZDogZm9ybS5pbnZhbGlkLFxuXHRcdFx0cGVuZGluZzogZm9ybS5wZW5kaW5nLFxuXHRcdFx0ZGlydHk6IGZvcm0uZGlydHksXG5cdFx0XHR1bnRvdWNoZWQ6IGZvcm0udW50b3VjaGVkLFxuXHRcdH0sXG5cdH0pO1xufVxuIl19